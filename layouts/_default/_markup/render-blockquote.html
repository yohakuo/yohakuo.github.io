{{- /* Check if this is a Hugo native alert */ -}}
{{- if .AlertType -}}
{{- /* This is a native alert - check for fold marker in title */ -}}
{{- $alertType := .AlertType | lower -}}
{{- $alertTitle := .AlertTitle -}}
{{- $isCollapsible := false -}}
{{- $defaultOpen := false -}}

{{- /* Check if title ends with + or - */ -}}
{{- if hasSuffix $alertTitle "+" -}}
{{- $isCollapsible = true -}}
{{- $defaultOpen = true -}}
{{- $alertTitle = strings.TrimSuffix $alertTitle "+" | strings.TrimRight " " -}}
{{- else if hasSuffix $alertTitle "-" -}}
{{- $isCollapsible = true -}}
{{- $defaultOpen = false -}}
{{- $alertTitle = strings.TrimSuffix $alertTitle "-" | strings.TrimRight " " -}}
{{- end -}}

{{- if $isCollapsible -}}
<details class="callout is-collapsible" data-callout-type="{{ $alertType }}" {{- if $defaultOpen }} open{{- end }}>
  <summary class="callout-title">
    <div class="callout-icon" aria-hidden="true"></div>
    <div class="callout-title-text">{{ if $alertTitle }}{{ $alertTitle }}{{ else }}{{ .AlertType | humanize }}{{ end
      }}</div>
    <div class="callout-fold-indicator"></div>
  </summary>
  <div class="callout-content">
    {{ .Text | safeHTML }}
  </div>
</details>
{{- else -}}
<div class="callout" data-callout-type="{{ $alertType }}" role="note" aria-label="{{ .AlertType | humanize }} callout">
  <div class="callout-title">
    <div class="callout-icon" aria-hidden="true"></div>
    <div class="callout-title-text">{{ if $alertTitle }}{{ $alertTitle }}{{ else }}{{ .AlertType | humanize }}{{ end
      }}</div>
  </div>
  <div class="callout-content">
    {{ .Text | safeHTML }}
  </div>
</div>
{{- end -}}
{{- else -}}
{{- /* Not an alert, render as regular blockquote */ -}}
<blockquote>
  {{ .Text | safeHTML }}
</blockquote>
{{- end -}}